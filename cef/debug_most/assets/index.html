<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>debug</title>
    <script type="application/javascript">
        (function () {
            ipc.on("on-name", function (str, bool, int, float) {
                let msg = document.getElementById("msg")
                let data = "str: " + str + " bool: " + bool + " int: " + int + " float: " + float + " " + Math.random()
                msg.innerHTML = data
                return data
            });
        })()

        function ipcEmit() {
            ipc.emit("emit-name", ["杨红岩", "age", Math.random()]);
        }

        let set = null;
        let count = 0;

        function autoIpcEmit() {
            if (set == null) {
                let msg = document.getElementById("msg")
                set = setInterval(function () {
                    ipc.emit("emit-name", ["杨红岩", "age", Math.random() + count]);
                    count++
                    msg.innerText = count
                }, 0)
            } else {
                clearInterval(set)
                set = null
            }
        }
    </script>
</head>
<body>
<p>
<h1>debug</h1>
</p>
<p>
    <a href="index.html">index.html</a>
</p>
<p>
    <button onclick="ipcEmit()">emit</button>
    <button onclick="autoIpcEmit()">auto emit</button>
</p>
<div id="msg"></div>
</body>
</html>