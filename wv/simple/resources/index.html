<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>simple</title>
    <script>
        (function () {

        })();

        function writeMsg(...args) {
            let msg = document.getElementById("msg")
            let d = ''
            for (let i = 0; i < args.length; i++) {
                d += ' ' + args[i]
            }
            msg.innerHTML += d + "<br>"
        }


        function testIPCEmit() {
            ipc.emit("test-ipc", [1234])
            ipc.emit("test-ipc", [4321], function (ret1, ret2) {
                writeMsg('ret1:', ret1, "ret2:", ret2);
            })
        }

        function CloseWindow() {
            ipc.emit("CloseWindow")
        }
        function ShowTitleBar() {
            ipc.emit("ShowTitleBar")
        }


        ipc.on('ipcOnName', function (data1) {
            writeMsg('ipcOnName-data1:', data1);
            return "new-data" + data1;
        })
    </script>
</head>
<body style="background: #4b5db4;">
<p>
<h1 style="-webkit-app-region:drag;-webkit-user-select: none;border: solid 1px;text-align: center;">drag title bar</h1>
</p>
<p>
    <button onclick="testIPCEmit()">testIPCEmit</button>
    <button onclick="CloseWindow()">CloseWindow</button>
    <button onclick="ShowTitleBar()">ShowTitleBar</button>
</p>
<div id="msg"></div>
</body>
</html>